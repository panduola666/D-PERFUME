import{p as S,H as I,F as q,S as b}from"./products-2033c573.js";import{O as x}from"./OrderInfo-b3da3127.js";import{_ as N,r as y,u as C,o as F,j as O,a as P,b as a,c as r,d as i,e as t,F as d,f as g,n as h,t as n,g as v,h as V,w as j,p as B,i as J}from"./index-112a0b72.js";const T=c=>(B("data-v-be9d6eb2"),c=c(),J(),c),E={class:"bg-primary text-white d-none d-md-block"},H={class:"container"},z={class:"d-flex list-unstyled m-0 gap-5 overflow-x-auto"},A=["onClick"],D={class:"fs-5 mb-0"},L={class:"container"},M={class:"row list-unstyled mt-7 mb-2 mt-md-10 mb-md-4"},R={class:"card border-0"},G={class:"overflow-hidden"},K=["src","alt"],Q={class:"card-body p-0"},U={class:"card-title h5 fw-semibold mb-0"},W={class:"card-text"},X={class:"mb-0"},Y={key:0,class:"text-secondary"},Z={class:"text-primary"},ee=["onClick"],te=T(()=>t("span",{class:"material-symbols-outlined fill pointer"},"shopping_cart",-1)),se={"aria-label":"Page navigation example"},oe={class:"pagination justify-content-center fs-5 mb-7 mb-md-9"},ae={__name:"Product",setup(c){const u=y([]),_=y([]),l=y(JSON.parse(localStorage.getItem("favorite"))||[]),p=C();F(async()=>{f()}),O(()=>p.query.category,async()=>f());async function f(){const s=await S();s.products.forEach(o=>{!_.value.includes(o.category)&&_.value.push(o.category)}),p.query.category==="all"?u.value=s.products:u.value=s.products.filter(o=>o.category===p.query.category)}function k(s){l.value=JSON.parse(localStorage.getItem("favorite"))||[];const o=l.value.findIndex(m=>m.id===s.id);o!==-1?(l.value.splice(o,1),b("已移出我的收藏")):(l.value.push(s),b("已加入我的收藏")),localStorage.setItem("favorite",JSON.stringify(l.value))}function $(s){return l.value.some(o=>o.id===s)}return(s,o)=>{const m=P("router-link");return a(),r(d,null,[i(I),t("nav",E,[t("div",H,[t("ul",z,[(a(!0),r(d,null,g(["all",..._.value],e=>(a(),r("li",{class:h(["py-3 pointer navItem text-nowrap",{cur:s.$route.query.category===e}]),key:e,onClick:w=>s.$router.push({path:s.$route.path,query:{category:e,page:s.$route.query.page}})},[t("h1",D,n(e==="all"?"全部":e),1)],10,A))),128))])])]),t("main",L,[t("ul",M,[(a(!0),r(d,null,g(u.value,e=>(a(),r("li",{class:"col-6 col-md-3 mb-sm mb-md-9",key:e.id},[t("div",R,[t("div",G,[t("img",{src:e.image,class:"card-img-top rounded-0 object-fit-cover productImg pointer",alt:e.title},null,8,K)]),t("div",Q,[t("h2",U,n(e.title),1),t("div",W,[v(n(e.category)+" ",1),t("p",X,[v(" NT$"+n(e.price)+" ",1),e.price!==e.origin_price?(a(),r("del",Y,"NT$"+n(e.origin_price),1)):V("",!0)])]),t("div",Z,[t("span",{class:h(["material-symbols-outlined pointer me-2",{fill:$(e.id)}]),onClick:w=>k(e)},"favorite",10,ee),te])])])]))),128))]),t("nav",se,[t("ul",oe,[(a(),r(d,null,g(1,e=>t("li",{class:"page-item",key:e},[i(m,{to:{path:s.$route.path,query:{page:e,category:s.$route.query.category}},class:h(`page-link border-0 rounded-0  text-${+s.$route.query.page===e?"primary":"black"} border-bottom${+s.$route.query.page===e?"":"-0"} border-primary `)},{default:j(()=>[v(n(e),1)]),_:2},1032,["to","class"])])),64))])])]),i(x),i(q)],64)}}},ce=N(ae,[["__scopeId","data-v-be9d6eb2"]]);export{ce as default};
